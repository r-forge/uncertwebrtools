source("read.schema.R")
# filename
f <- "uncertml.xsd"
# namespaces
ns <- c(un="http://www.uncertml.org/2.0",xs="http://www.w3.org/2001/XMLSchema")
# name of the element that you've been passed (you will read this from the XML or JSON)
elNames <- c("Quantile", "NormalDistribution", "DiscreteProbability", "StandardDeviation", "ConfidenceInterval", "StatisticsCollection", "ConfusionMatrix", "CovarianceMatrix", "CredibleInterval", "DirichletDistribution", "GammaDistribution", "NormalInverseGammaDistribution", "PoissonDistribution")
# Open the document in a way that allows us to use Xpath
doc=xmlParse(f)
# Select a log level: 2 will be very verbose,
# 1 is a summary of attributes and elements, and 0 is none.
logLevel<- 1
for(eName in elNames)
{
# Your R object can be instantiated now, with default slot values, OR you can wait until you have all the slot names
# The first strategy is better because it means you can cycle through the schema finding the attributes and elements, and populate them on the R object as you go
result <- getAttributesAndElementsForElementName(eName, doc, ns)
# First, get the attributes - both attributes and elements are modelled as slots on your R objects
for (attr in result$attributes)
{
# name of slot to assign to is attr$name
# type of value to go into it is attr$type
# attr$required will tell you whether it is obligatory
# TODO - ------------------------------------------------------------------
# get the value of the named attribute from the XML or JSON you have read,
# and if it is not null, allocate it to the slot of the same name on your R object
# If 'attReq is 'required' and you don't find a value, raise an error.
# 'attType' is a list that will tell you whether the value is real, integer, boolean or other (string, for now!)
# and whether it should fall between a specified minimum & maximum value.
#----------------------------------------------------------------------------
}
# Now, get the elements - both attributes and elements are modelled as slots on your R objects
for (elDetails in result$subelements)
{
# TODO-----------------------------------------------------------
# this gives you a set of details so that you can populate the slot.
# the slot name is      elDetails$name
#   elDetails$type    may be 'boolean', 'real' or 'integer' (we can expand this, but for now assume that anything else is to be treated as a string)
# if   elDetails$multiple   is TRUE, there may be more than one value (space-delimited)
# if   elDetails$minOccurs   is 1 (or higher) then you must have that number at least - raise an error if not.
# if   elDetails$maxOccurs   is not NULL then you must have that number at most- raise an error if not.
# if   elDetails$minValue   is not NULL, then check that the value you get is not less than this
# if   elDetails$maxValue   is not NULL, then check that the value you get is not more than this
}
}
}
}
}
source('C:/subversion/UncertML-R-API/schemaReader/test.schema.reading.R')
source('C:/subversion/Ankita/Schema_reading/read.schema.R')
source('C:/subversion/UncertML-R-API/schemaReader/test.schema.reading.R')
source('C:/subversion/UncertML-R-API/schemaReader/test.schema.reading.R')
source('C:/subversion/Rforge_SchemaReader/xmlSchemaReader/R/read.schema.R')
install.packages("xml")
install.packages("XML")
install.packages("C:/subversion/Rforge_SchemaReader/xmlschemaReader_0.1.1/xmlschemaReader.zip", repos = NULL)
library("XML")
source('C:/subversion/Rforge_SchemaReader/xmlSchemaReader/R/read.schema.R')
library("XML")
install.packages("C:/subversion/Rforge_SchemaReader/xmlschemaReader_0.1.1/xmlschemaReader.zip", repos = NULL)
source('C:/subversion/Rforge_SchemaReader/xmlSchemaReader/R/read.schema.R')
library("xmlSchemaReader")
library("XML")
library("xmlSchemaReader")
library("xmlSchemaReader")
remove.packages("xmlSchemaReader")
library("xmlSchemaReader")
remove.packages("xmlSchemaReader")
library("xmlschemaReader")
library("XML")
library("xmlschemaReader")
install.packages("C:/Documents and Settings/Lucy/UncertWebRTools_1.0-4.zip", repos = NULL)
library("UncertWebRTools")
install.packages("json")
library("xmlschemaReader")
library("XML")
install.packages("RNetCDF")
library("RNetCDF")
install.packages("rgdal")
library("rgdal")
install.packages("spacetime")
install.packages("RJSONIO")
library("RJSONIO")
library("XML")
library("xmlschemaReader")
library("RJSONIO")
setwd("C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R")
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
setwd("C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R")
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/UncertML_Tools.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
fix(ns)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
parseXML
p<- new("parseXML")
p
p.readFromXML()
readFromXML(p, f)
jfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/files_to_read/normaldist.xml"
p<- new("parseXML")
readFromXML(p, jfile)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
n<- readFromXML(p, jfile)
n
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
u<- new("Uncertainty")
u
readFromXML(u, jfile)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
rfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/output/normalout.xml"
writeToXML(u,rfile)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
jjfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/output/normaldist.json"
writeToJSON(u, jjfile)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
jjfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/output/normaldist.json"
writeToJSON(u, jjfile)
fix(doc)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassUncertainty.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
jjfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/output/normaldist.json"
x<-fromJSON(jjfile)
x
readjfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/files_to_read/normaldist.json"
x <- fromJSON(readjfile)
x
x[[1]]
x[[0]]
x[[1,1]]
x
x$
name
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
x
x[[,1]]
typeof(x)
x$names
names(x)
v<-names(x)
v
v[[1]]
v[[1]][[1]]
v$mean
x$mean
jfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/files_to_read/normaldist.xml"
rfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/output/normalsamples.xml"
dist<-new(Class="NormalDist", jfile)
number=3
rsample<-getSamples(dist,number)
sample1<-rsample@realisations[[1]]
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/testRSamples.R')
jsonfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/files_to_read/normaldist.json"
jsonNDdata<-fromJSON(jsonfile)
jsonNDdata
jsonNDdata[[1,]]
jsonNDdata[[1]]
typeOf(jsonNDdata)
typeof(jsonNDdata)
row.names(jsonNDdata)
rownames(jsonNDdata)
colnames(jsonNDdata)
all.names(jsonNDdata)
is.list(jsonNDdata)
v<- as.vector(jsonNDdata)
v
v[[1]]
v[[0]]
v[,1]
v$
nd
u<-unlist(jsonNDdata)
u
u[1]
u[1,1]
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
n<- new("NormalDistribution",0,0)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
jsonNDdata@name
jsonNDdata@mean
jsonNDdata@mean
jsonNDdata
jsonNDdata[[1]]
name(jsonNDdata)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
u <-new("Uncertainty")
u
readFromJSON(u,jsonfile)
u
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
u@xData
u@xdata
u@rdata
u@rdata@
name
u@rdata[[]]
u@rdata[[1]]
jsonNDdata[[1]]
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
jfile<-"C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/files_to_read/normaldist.xml"
nd<-new("NormalDistribution",jfile)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassNormalDistribution.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassNormalDistribution.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassNormalDistribution.R')
nd<-new("NormalDistribution",jfile)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
nd<-new("NormalDistribution",jfile)
readFromXML(jfile)
u<- new ("Uncertainty")
readFromXML(u,jfile)
u@mean<-1
u
nd
nd<-readFromXML(u,jfile)
nd
nd@mean<-1
nd
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
u<- new ("Uncertainty")
nd<-readFromXML(u,jfile)
nd
nd.slots
slots(nd)
slotNames(nd)
getSlots(nd)
slot(nd,"mean")<-1
nd
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
u<- new ("Uncertainty")
nd<-readFromXML(u,jfile)
root
xdata<-xmlTreeParse(jfile, getDTD=FALSE)
root<-xmlRoot(xdata)
xmlName(root[[1]])
root[[1]][1]
root[[1]][1]$text
as.numeric(root[[1]][1]$text)
root[[1]][1]$text
xmlValue(root[[1]])
xmlValue(root[[1]][1])
x<-xmlValue(root[[1]])
typeof(x)
as.numeric(x)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
u<- new ("Uncertainty")
nd<-readFromXML(u,jfile)
nd
xmlSize(root)
xmlName(root[[1]])
slot(nd,"mean")<-1
nd
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
u<- new ("Uncertainty")
nd<-readFromXML(u,jfile)
nd
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
is.numeric(slot(nd,"mean)"))
is.numeric(slot(nd,"mean"))
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
u<- new ("Uncertainty")
u<- new ("Uncertainty")
nd<-readFromXML(u,jfile)
nd
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
tempJSON<-fromJSON(jsonfile)
tempJSON
tempJSON[[1]]
slots(tempJSON[[1]])
slotNames(tempJSON)
tempJSON[[1,]]
tempJSON[[1]]
rowNames(tempJSON)
names(tempJSON)
typeof(names(tempJSON))
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
names(tempJSON[[1]])
siz
size(names(tempJSON[[1]]))
len(names(tempJSON[[1]]))
length(names(tempJSON[[1]]))
names(tempJSON)
names(tempJSON[[1]])[1]
tempJSON[[1]][1]
typeof(tempJSON[[1]][1])
tempJSON[[1]][[1]]
typeof(tempJSON[[1]][[1]])
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseJSON.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
u<- new ("Uncertainty")
nd<-readFromXML(u,jfile)
nd
typeof(nd)
nd
class(nd)
class(nd)[[1]]
typeof(class(nd)[[1]])
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
library("xmlschemaReader")
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
o <- getAttributesAndElementsForElementName("CentredMoment", "C:/subversion/Rforge_XML_Schema_reader/extras/uncertml.xsd")
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
o <- getAttributesAndElementsForElementName("CentredMoment", "C:/subversion/Rforge_XML_Schema_reader/extras/uncertml.xsd")
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
o <- getAttributesAndElementsForElementName("CentredMoment", "C:/subversion/Rforge_XML_Schema_reader/extras/uncertml.xsd")
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
o <- getAttributesAndElementsForElementName("CentredMoment", "C:/subversion/Rforge_SchemaReader/extras/uncertml.xsd")
o
o$subelements
length(o$subelements)
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
o$subelements[[1]]
$name
o$subelements[[1]]$name
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
o
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
source('C:/subversion/Rforge_UncertWebTools/JsonXmlUncertWebTools/pkg/R/ClassParseXML.R')
